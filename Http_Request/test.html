<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Google Maps example</title>

  </head>
  <body>
    <p id="test-promise-ajax-result">Simple maps example</p>

    <script type="text/javascript">
      function ajax(method, url, data) {
      var request = new XMLHttpRequest();
      return new Promise(function (resolve, reject) {
          request.onreadystatechange = function () {
              if (request.readyState === 4) {
                  if (request.status === 200) {
                      resolve(request.responseText);
                  } else {
                      reject(request.status+'不存在这个地址');
                  }
              }
          };
          request.open(method, url);
          request.send(data);
      });
  }
var log = document.getElementById('test-promise-ajax-result');
var p = ajax('GET', 'https://raw.githubusercontent.com/mdn/learning-area/master/javascript/apis/fetching-data/verse10.txt');
p.then(function (text) { // 如果AJAX成功，获得响应内容
    log.innerText = text;
}).catch(function (a) { // 如果AJAX失败，获得响应代码
    log.innerText = 'ERROR: ' + a;
    console.log('ERROR: ' + a)
});
    </script>





  </body>
</html>